<template>
  <div class="metro-distance">
    <div class="metro-distance__wrap">
      <div class="metro-distance__icon">
        <svg
          width="14"
          height="10"
          viewBox="0 0 14 10"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M9.5 6L10 8.5H9.5V10H14V8.5H13L10 0L7 5.5L4 0L1 8.5H0V10H4.5V8.5H4L4.5 6L7 10L9.5 6Z"
            :fill="metro.metroline_color"
          />
        </svg>
      </div>

      {{ metro.metro_station }} {{ metro.time }} мин.

      <div class="metro-distance__type">
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          v-if="metro.type === 'walk'"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8.7299 3.6111C8.0719 3.5761 7.2499 2.9491 7.2499 2.3071C7.2499 1.6641 7.8039 1.0271 8.5199 1.0011C9.2329 0.977104 9.9999 1.3421 9.9999 2.3071C9.9999 3.2741 9.3929 3.6251 8.7299 3.6111ZM11.8129 11.4191C11.8129 11.4191 12.6919 13.9371 12.7139 14.0231C12.8459 14.5421 12.6179 15.0011 11.9989 15.0011C11.7469 15.0011 11.4449 14.8101 11.2819 14.4311L10.3349 11.9821C10.1533 11.5557 9.89115 11.1683 9.5629 10.8411L7.4079 8.8351C7.31907 8.74482 7.26459 8.62631 7.2539 8.5001L7.2199 5.6211C7.2199 5.5211 7.1429 5.4801 7.0509 5.5451L6.1879 6.1591C6.0039 6.2891 5.8349 6.5711 5.8049 6.7891L5.5759 8.4971C5.5089 8.8671 5.2779 9.0651 4.9789 9.0651C4.6789 9.0651 4.3409 8.8441 4.3729 8.4591L4.5879 6.4741C4.6359 6.0341 4.9629 5.4521 5.3179 5.1791C5.3179 5.1791 6.8049 3.9421 7.6889 3.8961C8.6859 3.8581 9.4799 4.2461 9.4799 5.1071V8.5741C9.4799 8.6851 9.5479 8.8441 9.6309 8.9221L11.0629 10.2681C11.3489 10.5381 11.6849 11.0531 11.8129 11.4181V11.4191ZM4.0089 13.9991C3.9749 13.8371 4.0399 13.6141 4.1769 13.4351L5.9289 11.1311C6.0969 10.9091 6.3439 10.5361 6.4809 10.2951L7.0459 9.3051C7.0999 9.2101 7.2089 9.1961 7.2889 9.2741L8.2669 10.2181C8.30575 10.2589 8.33089 10.3108 8.33878 10.3665C8.34667 10.4223 8.33692 10.4792 8.3109 10.5291L8.0189 11.0211C7.84207 11.3091 7.6449 11.5842 7.4289 11.8441L5.3639 14.2611C5.29073 14.3473 5.19974 14.4166 5.09719 14.4643C4.99464 14.5119 4.88298 14.5368 4.7699 14.5371C4.2219 14.5371 4.0759 14.3231 4.0089 13.9991ZM9.8159 7.9091V6.5571C9.8159 6.4501 9.8859 6.4151 9.9719 6.4891L11.5119 7.8041C11.6779 8.0091 11.7939 8.1551 11.7939 8.4161C11.7939 8.7431 11.4449 9.1261 11.1159 8.9291C10.9879 8.8521 9.9899 8.2201 9.9899 8.2201C9.93936 8.1847 9.89747 8.13835 9.86734 8.0845C9.83722 8.03065 9.81963 7.9707 9.8159 7.9091Z"
            :fill="fillColor"
          />
        </svg>
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          v-if="metro.type === 'bus'"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M2 12V3.407C2 2.994 2.34 2.595 2.758 2.507C2.758 2.507 4.801 2 7.5 2C10.199 2 12.233 2.505 12.233 2.505C12.653 2.59 13 2.998 13 3.407V12H12.005V14H10V12H5V14H3V12H2ZM3 4V8H12V4H3ZM4 9C3.448 9 3 9.444 3 10C3 10.552 3.444 11 4 11C4.552 11 5 10.556 5 10C5 9.448 4.556 9 4 9ZM11 9C10.448 9 10 9.444 10 10C10 10.552 10.444 11 11 11C11.552 11 12 10.556 12 10C12 9.448 11.556 9 11 9Z"
            :fill="fillColor"
          />
        </svg>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import type { ComplexMetroData } from '~/types/interfaces';

interface Props {
  metro: ComplexMetroData;
  color?: 'dark' | 'inherit';
}

const props = defineProps<Props>();

const fillColor = computed(() => {
  switch (props.color) {
    case 'dark':
      return '#777777';
    case 'inherit':
      return props.metro.metroline_color;
    default:
      return '#f8f8f8';
  }
});
</script>

<style lang="scss" scoped>
.metro-distance {
  &__wrap {
    display: flex;
    align-items: center;
    gap: rem(8px);
  }
}
</style>
